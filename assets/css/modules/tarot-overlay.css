/* =========================================================
   TAROT OVERLAY – COSMIC RITUAL
   Tách riêng để tarot.css nhẹ & dễ maintain
   ========================================================= */

/* =========================
   OVERLAY ROOT
   ========================= */
.tarot-overlay {
  position: fixed;
  inset: 0;
  z-index: 9999;

  background:
    radial-gradient(circle at 50% 45%,
      rgba(30,27,75,0.55),
      rgba(15,23,42,0.75),
      rgba(0,0,0,0.9)
    ),
    radial-gradient(circle at 20% 80%,
      rgba(88,28,135,0.25),
      transparent 60%
    );

  backdrop-filter: blur(8px) brightness(80%);
  -webkit-backdrop-filter: blur(8px) brightness(80%);

  display: flex;
  align-items: center;
  justify-content: center;

  pointer-events: auto;
  overflow: hidden;

  animation: tarot-overlay-fade-in 0.6s ease-out forwards;
}

/* Hugo / JS dùng attribute hidden */
.tarot-overlay[hidden] {
  display: none !important;
  pointer-events: none;
}

/* =========================
   VOID LAYER
   ========================= */
.tarot-overlay::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.55);
  z-index: 0;
}

/* =========================
   OVERLAY BOX
   ========================= */
.tarot-overlay-box {
  position: relative;
  width: 200px;
  height: 200px;
  text-align: center;
  z-index: 2;

  animation: tarot-overlay-pulse 4s ease-in-out infinite;
}

/* =========================
   STAR CANVAS
   ========================= */
#stars-canvas {
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  opacity: 0.9;
}

/* =========================
   PLANET SYSTEM
   ========================= */

/* HÀNH TINH TRUNG TÂM */
.tarot-orb {
  position: absolute;
  inset: 0;
  margin: auto;

  width: 86px;
  height: 86px;
  border-radius: 50%;

  background: url("https://cdn.jsdelivr.net/gh/cuongpham0212/kho-anh@main/hanh-tinh.png?v=1")
    center / cover no-repeat;

  box-shadow:
    0 0 25px rgba(99,102,241,0.95),
    0 0 70px rgba(129,140,248,0.65),
    inset 0 0 18px rgba(255,255,255,0.25);

  z-index: 2;

  animation: tarot-orb-breath 3.6s ease-in-out infinite;
}

/* QUỸ ĐẠO */
.tarot-orbit {
  position: absolute;
  inset: 0;
  margin: auto;

  width: 160px;
  height: 160px;
  border-radius: 50%;

  border: 1px solid rgba(165,180,252,0.18);

  animation: tarot-orbit-spin 22s linear infinite;
}

/* =========================
   VỆ TINH (FIX CHUẨN – KHÔNG MẤT ẢNH)
   ========================= */
.tarot-satellite {
  position: absolute;
  top: -12px;
  left: 50%;
  transform: translateX(-50%);

  width: 26px;
  height: 26px;

  background-image: url("https://cdn.jsdelivr.net/gh/cuongpham0212/kho-anh@main/ve-tinh.png?v=1");
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  background-color: transparent;

  filter:
    drop-shadow(0 0 6px rgba(180,200,255,0.9))
    drop-shadow(0 0 14px rgba(130,150,255,0.6));
}

/* =========================
   TEXT
   ========================= */
.tarot-overlay-text {
  position: absolute;
  bottom: -3.2rem;
  width: 100%;

  font-size: 0.85rem;
  letter-spacing: 0.22em;
  text-transform: uppercase;

  color: rgba(248,250,252,0.92);
  opacity: 0.95;

  animation: tarot-text-fade 3s ease-in-out infinite;
}

/* =========================
   ANIMATION
   ========================= */
@keyframes tarot-orbit-spin {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}

@keyframes tarot-orb-breath {
  0%, 100% {
    transform: scale(1);
    box-shadow:
      0 0 25px rgba(99,102,241,0.9),
      0 0 70px rgba(129,140,248,0.6);
  }
  50% {
    transform: scale(1.08);
    box-shadow:
      0 0 40px rgba(129,140,248,1),
      0 0 110px rgba(165,180,252,0.8);
  }
}

@keyframes tarot-overlay-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.03); }
}

@keyframes tarot-text-fade {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

@keyframes tarot-overlay-fade-in {
  from {
    opacity: 0;
    transform: scale(1.02);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* =========================
   MOBILE
   ========================= */
@media (max-width: 640px) {
  .tarot-overlay-box {
    transform: scale(0.85);
  }

  .tarot-orb {
    width: 72px;
    height: 72px;
  }

  .tarot-orbit {
    width: 140px;
    height: 140px;
  }
}
