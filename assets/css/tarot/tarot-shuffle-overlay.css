/* ==================================================
   TAROT SHUFFLE OVERLAY ‚Äì LOCAL STAGE MODE (FIXED)
================================================== */

/* ===============================
   OVERLAY ‚Äì NEO TRONG KHU TAROT
   (CHA: .tarot-deck-area { position: relative })
================================ */
.tarot-shuffle-overlay,
#tarot-shuffle-overlay {
  position: absolute;   /* üî• GI·ªÆ ABSOLUTE */
  inset: 0;
  z-index: 5;

  opacity: 0;
  pointer-events: none;
  transition: opacity 0.35s ease;
}

.tarot-shuffle-overlay.is-active,
#tarot-shuffle-overlay.is-active {
  opacity: 1;
  pointer-events: auto;
}

/* ===============================
   STAGE ‚Äì S√ÇN KH·∫§U TH·∫¨T
================================ */
.tarot-shuffle-stage,
#tarot-shuffle-overlay .tarot-shuffle-stage {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

/* ===============================
   SHUFFLE CARD ‚Äì L√Å B√ÄI √öP
================================ */
.tarot-shuffle-card {
  position: absolute;

  width: 78px;
  height: 132px;
  border-radius: 12px;

  /* üîí GI·ªÆ NGUY√äN LINK ·∫¢NH C·ª¶A ANH */
  background-image: url("https://cdn.jsdelivr.net/gh/cuongpham0212/kho-anh@main/tarot/anh-mat-sau-la-bai-tarot.webp");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;

  box-shadow:
    0 18px 40px rgba(0, 0, 0, 0.45),
    0 4px 10px rgba(0, 0, 0, 0.3);

  transition:
    transform 0.6s cubic-bezier(0.22, 1, 0.36, 1),
    opacity 0.35s ease;

  will-change: transform;
  backface-visibility: hidden;
}

/* ===============================
   BOX C≈® ‚Äì V√î HI·ªÜU H√ìA
================================ */
.tarot-shuffle-overlay-box {
  display: none;
}

/* ===============================
   GHOST CARD ‚Äì LINH H·ªíN L√Å B√ÄI
================================ */
.tarot-ghost-card {
  position: fixed;
  pointer-events: none;
  z-index: 999;

  /* hi·ªáu ·ª©ng nh√¨n th·∫•y */
  opacity: 1;
  transform: translate3d(0, 0, 0) scale(1);

  transition:
    transform 0.25s ease-out,
    opacity 0.2s ease-out;

  will-change: transform, opacity;
}
