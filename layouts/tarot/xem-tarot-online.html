{{ define "main" }}

<body class="tarot-before">
<div class="tarot-page">

  <!-- OVERLAY -->
  <div id="tarot-overlay" class="tarot-overlay" hidden>
    <div class="tarot-overlay-box">
      <div class="tarot-orb"></div>
      <div class="tarot-orbit">
        <div class="tarot-satellite"></div>
      </div>
      <div class="tarot-overlay-text">
        Đang kết nối với trường năng lượng…
      </div>
    </div>
  </div>

  <section class="tarot-wrap">
    <div class="tarot-panel" id="tarotPanel">

      <header class="tarot-header">
        <h1>{{ .Title }}</h1>
        {{ with .Content }}
        <div class="tarot-intro">{{ . }}</div>
        {{ end }}
      </header>

      <section class="tarot-guide">
        <p>
          Hãy hít thở sâu, tập trung vào câu hỏi trong lòng bạn.
          Khi sẵn sàng, hãy <strong>chọn 3 lá bài</strong> theo trực giác.
        </p>
      </section>

      <section class="tarot-selected">
        <h2>Ba lá bạn đã chọn</h2>
        <div class="tarot-selected-cards">
          {{ range $i, $label := slice "QUÁ KHỨ" "HIỆN TẠI" "HƯỚNG ĐI" }}
          <div class="tarot-slot-wrap">
            <div class="tarot-slot-label">
              LÁ {{ add $i 1 }} · {{ $label }}
            </div>
            <div class="tarot-slot"></div>
          </div>
          {{ end }}
        </div>
      </section>

      <div class="tarot-action">
        <button id="reveal-reading" class="tarot-btn is-disabled" disabled>
          Xem luận giải
        </button>
      </div>

      <article id="tarot-reading" class="tarot-reading" hidden>
        <h2>Luận giải trải bài Tarot 3 lá</h2>

        <section class="tarot-reading-block">
          <h3>Lá 1 – Quá khứ</h3>
          <p id="reading-1"></p>
        </section>

        <section class="tarot-reading-block">
          <h3>Lá 2 – Hiện tại</h3>
          <p id="reading-2"></p>
        </section>

        <section class="tarot-reading-block">
          <h3>Lá 3 – Hướng đi</h3>
          <p id="reading-3"></p>
        </section>

        <div class="tarot-action" style="margin-top:3.5rem">
          <button id="reset-tarot" class="tarot-btn">
            Trải bài khác
          </button>
        </div>
      </article>

    </div>
  </section>

  {{ partial "tarot/data.html" . }}
</div>
</body>

{{ $js := resources.Get "js/tarot/draw-one.js" | resources.Minify }}
<script defer src="{{ $js.RelPermalink }}"></script>

{{ end }}
