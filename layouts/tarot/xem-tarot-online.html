{{ define "main" }}

<body class="tarot-before">
<div class="tarot-page">

  <!-- OVERLAY -->
  <div id="tarot-overlay" class="tarot-overlay" hidden>

    <!-- ‚≠ê STAR FIELD (BACKGROUND NƒÇNG L∆Ø·ª¢NG) -->
    <canvas id="stars-canvas"></canvas>

    <!-- üåë RITUAL CORE -->
    <div class="tarot-overlay-box">

      <!-- üåç CENTRAL PLANET -->
      <div class="tarot-orb"></div>

      <!-- üõ∞ ORBIT 1 -->
      <div class="orbit-tilt tilt-1">
        <div class="orbit-rotate rotate-1">
          <div class="satellite-orbit">
            <div class="satellite-sprite"></div>
          </div>
        </div>
      </div>

      <!-- üõ∞ ORBIT 2 -->
      <div class="orbit-tilt tilt-2">
        <div class="orbit-rotate rotate-2">
          <div class="satellite-orbit">
            <div class="satellite-sprite"></div>
          </div>
        </div>
      </div>

      <!-- ‚ú® RITUAL TEXT -->
      <div class="tarot-overlay-text">
        ƒêang k·∫øt n·ªëi v·ªõi tr∆∞·ªùng nƒÉng l∆∞·ª£ng‚Ä¶
      </div>

    </div>
    <!-- END .tarot-overlay-box -->

  </div>
  <!-- END #tarot-overlay -->

  <section class="tarot-wrap">
    <div class="tarot-panel" id="tarotPanel">

      <header class="tarot-header">
        <h1>{{ .Title }}</h1>
        {{ with .Content }}
        <div class="tarot-intro">{{ . }}</div>
        {{ end }}
      </header>

      <section class="tarot-guide">
        <p>
          H√£y h√≠t th·ªü s√¢u, t·∫≠p trung v√†o c√¢u h·ªèi trong l√≤ng b·∫°n.
          Khi s·∫µn s√†ng, h√£y <strong>ch·ªçn 3 l√° b√†i</strong> theo tr·ª±c gi√°c.
        </p>
      </section>

      <section class="tarot-selected">
        <h2>Ba l√° b·∫°n ƒë√£ ch·ªçn</h2>
        <div class="tarot-selected-cards">
          {{ range $i, $label := slice "QU√Å KH·ª®" "HI·ªÜN T·∫†I" "H∆Ø·ªöNG ƒêI" }}
          <div class="tarot-slot-wrap">
            <div class="tarot-slot-label">
              L√Å {{ add $i 1 }} ¬∑ {{ $label }}
            </div>
            <div class="tarot-slot"></div>
          </div>
          {{ end }}
        </div>
      </section>

      <div class="tarot-action">
        <button id="reveal-reading" class="tarot-btn is-disabled" disabled>
          Xem lu·∫≠n gi·∫£i
        </button>
      </div>

      <article id="tarot-reading" class="tarot-reading" hidden>
        <h2>Lu·∫≠n gi·∫£i tr·∫£i b√†i Tarot 3 l√°</h2>

        <section class="tarot-reading-block">
          <h3>L√° 1 ‚Äì Qu√° kh·ª©</h3>
          <p id="reading-1"></p>
        </section>

        <section class="tarot-reading-block">
          <h3>L√° 2 ‚Äì Hi·ªán t·∫°i</h3>
          <p id="reading-2"></p>
        </section>

        <section class="tarot-reading-block">
          <h3>L√° 3 ‚Äì H∆∞·ªõng ƒëi</h3>
          <p id="reading-3"></p>
        </section>

        <div class="tarot-action" style="margin-top:3.5rem">
          <button id="reset-tarot" class="tarot-btn">
            Tr·∫£i b√†i kh√°c
          </button>
        </div>
      </article>

    </div>
  </section>

  {{ partial "tarot/data.html" . }}
</div>
</body>

{{ $js := resources.Get "js/tarot/draw-one.js" | resources.Minify }}
<script defer src="{{ $js.RelPermalink }}"></script>
{{ $overlay := resources.Get "js/tarot/tarot-overlay.js" | resources.Minify }}
<script defer src="{{ $overlay.RelPermalink }}"></script>

{{ end }}
