{{ define "main" }}
<body class="tarot-before">
<div class="tarot-page">

  <!-- ================= OVERLAY: NGHI TH·ª®C / LU·∫¨N GI·∫¢I ================= -->
  {{ partial "tarot/tarot-overlay.html" . }}

  <!-- ================= MAIN CONTENT ================= -->
  <section class="tarot-wrap">
    <div class="tarot-panel">

      <!-- ===== GI·ªöI THI·ªÜU ===== -->
      <header class="tarot-header">
        <h1>{{ .Title }}</h1>
        {{ with .Content }}
        <div class="tarot-intro">
          {{ . }}
        </div>
        {{ end }}
      </header>

      <section class="tarot-guide">
        <p>
          H√£y h√≠t th·ªü s√¢u, th·∫£ l·ªèng t√¢m tr√≠ v√† t·∫≠p trung v√†o c√¢u h·ªèi trong l√≤ng b·∫°n.
          Vi·ªác ch·ªçn b√†i ho√†n to√†n d·ª±a tr√™n <strong>tr·ª±c gi√°c</strong>.
        </p>
      </section>

      <!-- ===== KHU TAROT (NEO OVERLAY + DECK) ===== -->
      <section class="tarot-deck-area">

        <!-- üî• OVERLAY X√ÅO B√ÄI ‚Äì NEO ƒê√öNG CHA -->
        {{ partial "tarot/tarot-shuffle-overlay.html" . }}

        <div class="tarot-deck-row">

          <!-- B·ªò B√ÄI √öP -->
          <div class="tarot-deck-stack" id="deck-closed">
            <div class="tarot-deck">
              <img src="https://cdn.jsdelivr.net/gh/cuongpham0212/kho-anh@main/tarot/anh-mat-sau-la-bai-tarot.webp" alt="">
              <img src="https://cdn.jsdelivr.net/gh/cuongpham0212/kho-anh@main/tarot/anh-mat-sau-la-bai-tarot.webp" alt="">
              <img src="https://cdn.jsdelivr.net/gh/cuongpham0212/kho-anh@main/tarot/anh-mat-sau-la-bai-tarot.webp" alt="">
              <img src="https://cdn.jsdelivr.net/gh/cuongpham0212/kho-anh@main/tarot/anh-mat-sau-la-bai-tarot.webp" alt="">
            </div>
          </div>

          <!-- N√öT X√ÅO -->
          <div class="tarot-shuffle-box">
            <button id="tarot-shuffle-btn" class="tarot-btn" type="button">
              X√†o b√†i
            </button>
          </div>

        </div>

        <!-- ===== B·ªò B√ÄI TR·∫¢I ===== -->
        <div class="tarot-spread-area" id="deck-spread" aria-hidden="true"></div>
        <div class="tarot-spread-spacer"></div>
      </section>

      <!-- ===== 3 √î CARD R·ªñNG ===== -->
      <section class="tarot-selected">
        <h2>Ba l√° b·∫°n ƒë√£ ch·ªçn</h2>

        <div class="tarot-selected-cards">
          {{ range $i, $label := slice "QU√Å KH·ª®" "HI·ªÜN T·∫†I" "H∆Ø·ªöNG ƒêI" }}
          <div class="tarot-slot-wrap">
            <div class="tarot-slot-label">
              L√Å {{ add $i 1 }} ¬∑ {{ $label }}
            </div>
            <div class="tarot-slot" data-slot="{{ add $i 1 }}"></div>
          </div>
          {{ end }}
        </div>
      </section>

      <!-- ===== ACTION ===== -->
      <div class="tarot-action">
        <button id="reveal-reading"
                class="tarot-btn is-disabled"
                disabled>
          Xem lu·∫≠n gi·∫£i
        </button>
      </div>

      <!-- ===== LU·∫¨N GI·∫¢I ===== -->
      <article id="tarot-reading" class="tarot-reading" hidden>
        ...
      </article>

    </div>
  </section>
</div>

<!-- ================= DATA TAROT ================= -->
{{ partial "tarot/data.html" . }}

<!-- ================= JS ================= -->
<script type="module" src="{{ (resources.Get "js/tarot/card-animations.js" | js.Build).Permalink }}"></script>
<script type="module" src="{{ (resources.Get "js/tarot/deck-closed.js" | js.Build).Permalink }}"></script>
<script type="module" src="{{ (resources.Get "js/tarot/shuffle-overlay.js" | js.Build).Permalink }}"></script>
<script type="module" src="{{ (resources.Get "js/tarot/deck-spread.js" | js.Build).Permalink }}"></script>

{{ end }}
