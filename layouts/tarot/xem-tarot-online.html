{{ define "main" }}

<body class="tarot-before">
<div class="tarot-page">

  <!-- ================= OVERLAY ================= -->
  <div id="tarot-overlay" class="tarot-overlay" hidden>
    <canvas id="stars-canvas"></canvas>
    <div class="tarot-overlay-box">
      <div class="tarot-orb"></div>

      <div class="orbit-tilt tilt-1">
        <div class="orbit-rotate rotate-1">
          <div class="satellite-orbit">
            <div class="satellite-sprite"></div>
          </div>
        </div>
      </div>

      <div class="orbit-tilt tilt-2">
        <div class="orbit-rotate rotate-2">
          <div class="satellite-orbit">
            <div class="satellite-sprite"></div>
          </div>
        </div>
      </div>

      <div class="tarot-overlay-text">
        ƒêang k·∫øt n·ªëi v·ªõi tr∆∞·ªùng nƒÉng l∆∞·ª£ng‚Ä¶
      </div>
    </div>
  </div>
  <!-- ================= END OVERLAY ================= -->


  <section class="tarot-wrap">

    <!-- ================= PANEL ================= -->
    <div class="tarot-panel">

      <!-- ===== BLOCK 1: GI·ªöI THI·ªÜU ===== -->
      <header class="tarot-header">
        <h1>{{ .Title }}</h1>
        {{ with .Content }}
        <div class="tarot-intro">
          {{ . }}
        </div>
        {{ end }}
      </header>

      <section class="tarot-guide">
        <p>
          H√£y h√≠t th·ªü s√¢u, th·∫£ l·ªèng t√¢m tr√≠ v√† t·∫≠p trung v√†o c√¢u h·ªèi trong l√≤ng b·∫°n.
          Vi·ªác ch·ªçn b√†i ho√†n to√†n d·ª±a tr√™n <strong>tr·ª±c gi√°c</strong>.
        </p>
      </section>

      <!-- ===== BLOCK 2: STACK + SHUFFLE ===== -->
      <section class="tarot-deck-area">

        <div class="tarot-deck-row">

          <!-- STACK -->
          <div class="tarot-deck-stack">
            <div class="tarot-deck">
              <img src="https://cdn.jsdelivr.net/gh/cuongpham0212/kho-anh@main/tarot/anh-mat-sau-la-bai-tarot.webp" alt="">
              <img src="https://cdn.jsdelivr.net/gh/cuongpham0212/kho-anh@main/tarot/anh-mat-sau-la-bai-tarot.webp" alt="">
              <img src="https://cdn.jsdelivr.net/gh/cuongpham0212/kho-anh@main/tarot/anh-mat-sau-la-bai-tarot.webp" alt="">
              <img src="https://cdn.jsdelivr.net/gh/cuongpham0212/kho-anh@main/tarot/anh-mat-sau-la-bai-tarot.webp" alt="">
            </div>
          </div>

          <!-- SHUFFLE BUTTON -->
          <div class="tarot-shuffle-box">
            <button class="tarot-btn" type="button">
              X√†o b√†i
            </button>
          </div>

        </div>
        <!-- üîÆ SPREAD STAGE ‚Äì LAYER ƒê·ªòC L·∫¨P -->
        <div class="tarot-spread-area"></div>
        <div class="tarot-spread-spacer"></div>

      </section>

      <!-- ===== BLOCK 3: 3 SLOT CH·ªåN ===== -->
      <section class="tarot-selected">
        <h2>Ba l√° b·∫°n ƒë√£ ch·ªçn</h2>

        <div class="tarot-selected-cards">
          {{ range $i, $label := slice "QU√Å KH·ª®" "HI·ªÜN T·∫†I" "H∆Ø·ªöNG ƒêI" }}
          <div class="tarot-slot-wrap">
            <div class="tarot-slot-label">
              L√Å {{ add $i 1 }} ¬∑ {{ $label }}
            </div>
            <div class="tarot-slot"></div>
          </div>
          {{ end }}
        </div>
      </section>

      <!-- ===== ACTION ===== -->
      <div class="tarot-action">
        <button id="reveal-reading"
                class="tarot-btn is-disabled"
                disabled>
          Xem lu·∫≠n gi·∫£i
        </button>
      </div>

      <!-- ===== READING (HI·ªÜN SAU OVERLAY) ===== -->
      <article id="tarot-reading" class="tarot-reading" hidden>

        <h2>Lu·∫≠n gi·∫£i tr·∫£i b√†i Tarot 3 l√°</h2>

        <section class="tarot-reading-block">
          <h3>L√° 1 ‚Äì Qu√° kh·ª©</h3>
          <p id="reading-1"></p>
        </section>

        <section class="tarot-reading-block">
          <h3>L√° 2 ‚Äì Hi·ªán t·∫°i</h3>
          <p id="reading-2"></p>
        </section>

        <section class="tarot-reading-block">
          <h3>L√° 3 ‚Äì H∆∞·ªõng ƒëi</h3>
          <p id="reading-3"></p>
        </section>

        <div class="tarot-action" style="margin-top:3.5rem">
          <button id="reset-tarot" class="tarot-btn" type="button">
            Tr·∫£i b√†i kh√°c
          </button>
        </div>

      </article>

    </div>
    <!-- ================= END PANEL ================= -->

  </section>

  <!-- DATA TAROT -->
  {{ partial "tarot/data.html" . }}

</div>

<!-- ================= JS ================= -->
{{ $js := resources.Get "js/tarot/draw-one.js" | resources.Minify }}
<script defer src="{{ $js.RelPermalink }}"></script>

{{ end }}
