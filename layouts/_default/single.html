{{ define "main" }}

  {{ partial "section-hero.html" . }}

  <!-- ===============================
       READING CONTAINER
  =============================== -->
  <main class="container" role="main">

    <article class="article-body" id="article" itemscope itemtype="https://schema.org/Article">
      {{ .Content }}
    </article>

    <!-- TOC OVERLAY (ẩn UI – vẫn có anchor cho Google) -->
    {{ partial "article-toc-overlay.html" . }}
    {{ partial "ui/back-to-top.html" . }}

    {{ partial "social-share.html" . }}

  </main>

  <!-- ===============================
       STYLE: JUMP LINK + PARAGRAPH FOCUS
  =============================== -->
  <style>
    /* ===== Jump link optimization ===== */
    .article-body h2,
    .article-body h3 {
      position: relative;
      scroll-margin-top: 96px;
    }

    .article-body h2::before,
    .article-body h3::before {
      content: "#";
      position: absolute;
      left: -1.2rem;
      opacity: 0;
      font-size: .85rem;
      color: #9ca3af;
      transition: opacity .2s;
    }

    .article-body h2:hover::before,
    .article-body h3:hover::before {
      opacity: 1;
    }

    /* ===== Paragraph focus (đọc sâu) ===== */
    .article-body > * {
      transition: opacity .25s ease;
    }

    .article-body .focus { opacity: 1; }
    .article-body .dim { opacity: .35; }
  </style>

  <!-- ===============================
       SCRIPT: ARTICLE READER
  =============================== -->
  <script src="{{ resources.Get "js/article-reader.js" | minify | fingerprint | relURL }}" defer></script>

{{ end }}
